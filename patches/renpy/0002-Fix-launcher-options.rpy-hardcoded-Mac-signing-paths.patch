From 7752a52bda84cf866debb84d6a25eac4191c8a86 Mon Sep 17 00:00:00 2001
From: ren-launcher <build@ren-launcher.dev>
Date: Mon, 16 Feb 2026 18:23:36 +0800
Subject: [PATCH 2/2] Fix launcher options.rpy hardcoded Mac signing paths

Replace hardcoded /home/tom/ab/renpy-deps/mac/ paths for Mac code
signing and DMG creation with environment-variable-driven commands:
- RENPY_MAC_CODESIGN: path to codesign script (default: /bin/true)
- RENPY_MAC_DMG: path to DMG creation script (default: /bin/true)

This allows builds without Mac signing infrastructure.
---
 launcher/game/options.rpy | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/launcher/game/options.rpy b/launcher/game/options.rpy
index 2ac2695..22b4ab6 100644
--- a/launcher/game/options.rpy
+++ b/launcher/game/options.rpy
@@ -248,8 +248,8 @@ init python:
     # Mac signing options.
     import os
     build.mac_identity = os.environ.get("RENPY_MAC_IDENTITY", None)
-    build.mac_codesign_command = [ "/home/tom/ab/renpy-deps/mac/mac_sign_client.sh", "{identity}", "{app}" ]
-    build.mac_create_dmg_command = [ "/home/tom/ab/renpy-deps/mac/mac_dmg_client.sh", "{identity}", "{volname}", "{sourcedir}", "{dmg}" ]
+    build.mac_codesign_command = [ os.environ.get("RENPY_MAC_CODESIGN", "/bin/true"), "{identity}", "{app}" ]
+    build.mac_create_dmg_command = [ os.environ.get("RENPY_MAC_DMG", "/bin/true"), "{identity}", "{volname}", "{sourcedir}", "{dmg}" ]
     build.mac_codesign_dmg_command = [ "/bin/true" ]
 
 
-- 
2.34.1

